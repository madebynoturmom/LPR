import"../chunks/DsnmJJEf.js";import"../chunks/DsPuBiMm.js";import{p as ft,l as st,a as bt,f as n,t as L,g as t,b as d,c as pt,m as B,e as i,d as r,s as H,r as e,u as l,n as P}from"../chunks/N5lxWZGS.js";import{s as o}from"../chunks/B135_YsI.js";import{i as I}from"../chunks/DrWauV8B.js";import{e as J,i as K}from"../chunks/DSP_IF8R.js";import{r as D,a as A}from"../chunks/BnZ110ug.js";import{b as zt}from"../chunks/DnwoYYiD.js";import{i as yt}from"../chunks/Bc0xGMnQ.js";import{p as gt}from"../chunks/BBnkIoAR.js";var xt=n('<tr><td class="svelte-19vu5z5"> </td><td class="svelte-19vu5z5"> </td><td class="svelte-19vu5z5"> </td><td class="svelte-19vu5z5"> </td><td class="svelte-19vu5z5"><form method="POST" action="?/admit" style="display:inline"><input type="hidden" name="id"/> <button type="submit" class="btn-admit svelte-19vu5z5">Admit</button></form> <form method="POST" action="?/deny" style="display:inline; margin-left:0.5rem;"><input type="hidden" name="id"/> <button type="submit" class="btn-deny svelte-19vu5z5">Deny</button></form></td></tr>'),St=n('<table class="svelte-19vu5z5"><thead><tr><th class="svelte-19vu5z5">Plate</th><th class="svelte-19vu5z5">Name</th><th class="svelte-19vu5z5">Visit</th><th class="svelte-19vu5z5">Duration</th><th class="svelte-19vu5z5">Actions</th></tr></thead><tbody></tbody></table>'),Dt=n("<p>No active visitor passes.</p>"),Nt=n('<tr><td class="svelte-19vu5z5"> </td><td class="svelte-19vu5z5"> </td><td class="svelte-19vu5z5"> </td><td class="svelte-19vu5z5"> </td><td class="svelte-19vu5z5"><form method="POST" action="?/admit" style="display:inline"><input type="hidden" name="id"/> <button type="submit" class="btn-admit svelte-19vu5z5">Admit</button></form> <form method="POST" action="?/deny" style="display:inline; margin-left:0.5rem;"><input type="hidden" name="id"/> <button type="submit" class="btn-deny svelte-19vu5z5">Deny</button></form></td></tr>'),wt=n('<table class="svelte-19vu5z5"><thead><tr><th class="svelte-19vu5z5">Plate</th><th class="svelte-19vu5z5">Name</th><th class="svelte-19vu5z5">Visit</th><th class="svelte-19vu5z5">Duration</th><th class="svelte-19vu5z5">Actions</th></tr></thead><tbody></tbody></table>'),Lt=n("<p>No active food delivery passes.</p>"),Pt=n("<li> </li>"),At=n("<ul></ul>"),Ct=n("<p>No recent events.</p>"),Tt=n('<div class="guard-dashboard svelte-19vu5z5"><header class="gd-header svelte-19vu5z5"><h1>Guard Dashboard</h1> <div class="gd-controls svelte-19vu5z5"><input placeholder="Search plate or name" class="svelte-19vu5z5"/></div></header> <section class="gd-stats svelte-19vu5z5"><div class="stat svelte-19vu5z5"> </div> <div class="stat svelte-19vu5z5"> </div></section> <section class="gd-lists svelte-19vu5z5"><div class="list-card svelte-19vu5z5"><h2>Visitors</h2> <!></div> <div class="list-card svelte-19vu5z5"><h2>Food Deliveries</h2> <!></div></section> <section class="gd-events svelte-19vu5z5"><h2>Recent Events</h2> <!></section></div>');function Bt(rt,Q){ft(Q,!1);const N=B(),w=B();let C=gt(Q,"data",8),U=C()?.activeVisitorPasses??[],W=C()?.activeFoodDeliveryPasses??[],X=C()?.recentCarAccess??[],m=B("");function Y(a){try{return new Date(a).toLocaleString()}catch{return a}}st(()=>t(m),()=>{H(N,U.filter(a=>{if(!t(m))return!0;const v=t(m).toLowerCase();return String(a.plateNumber).toLowerCase().includes(v)||String(a.name).toLowerCase().includes(v)}))}),st(()=>t(m),()=>{H(w,W.filter(a=>{if(!t(m))return!0;const v=t(m).toLowerCase();return String(a.plateNumber).toLowerCase().includes(v)||String(a.name).toLowerCase().includes(v)}))}),bt(),yt();var T=Tt(),V=r(T),Z=i(r(V),2),$=r(Z);D($),e(Z),e(V);var O=i(V,2),q=r(O),vt=r(q);e(q);var tt=i(q,2),it=r(tt);e(tt),e(O);var F=i(O,2),k=r(F),lt=i(r(k),2);{var ot=a=>{var v=St(),h=i(r(v));J(h,5,()=>t(N),K,(_,s)=>{var u=xt(),c=r(u),M=r(c,!0);e(c);var f=i(c),E=r(f,!0);e(f);var b=i(f),G=r(b,!0);e(b);var p=i(b),R=r(p);e(p);var y=i(p),z=r(y),g=r(z);D(g),P(2),e(z);var x=i(z,2),S=r(x);D(S),P(2),e(x),e(y),e(u),L(j=>{o(M,(t(s),l(()=>t(s).plateNumber))),o(E,(t(s),l(()=>t(s).name))),o(G,j),o(R,`${t(s),l(()=>t(s).durationMinutes)??""}m`),A(g,(t(s),l(()=>t(s).id))),A(S,(t(s),l(()=>t(s).id)))},[()=>(t(s),l(()=>Y(t(s).visitTime)))]),d(_,u)}),e(h),e(v),d(a,v)},dt=a=>{var v=Dt();d(a,v)};I(lt,a=>{t(N),l(()=>t(N).length>0)?a(ot):a(dt,!1)})}e(k);var et=i(k,2),nt=i(r(et),2);{var ut=a=>{var v=wt(),h=i(r(v));J(h,5,()=>t(w),K,(_,s)=>{var u=Nt(),c=r(u),M=r(c,!0);e(c);var f=i(c),E=r(f,!0);e(f);var b=i(f),G=r(b,!0);e(b);var p=i(b),R=r(p);e(p);var y=i(p),z=r(y),g=r(z);D(g),P(2),e(z);var x=i(z,2),S=r(x);D(S),P(2),e(x),e(y),e(u),L(j=>{o(M,(t(s),l(()=>t(s).plateNumber))),o(E,(t(s),l(()=>t(s).name))),o(G,j),o(R,`${t(s),l(()=>t(s).durationMinutes)??""}m`),A(g,(t(s),l(()=>t(s).id))),A(S,(t(s),l(()=>t(s).id)))},[()=>(t(s),l(()=>Y(t(s).visitTime)))]),d(_,u)}),e(h),e(v),d(a,v)},ct=a=>{var v=Lt();d(a,v)};I(nt,a=>{t(w),l(()=>t(w).length>0)?a(ut):a(ct,!1)})}e(et),e(F);var at=i(F,2),mt=i(r(at),2);{var _t=a=>{var v=At();J(v,5,()=>X,K,(h,_)=>{var s=Pt(),u=r(s);e(s),L(c=>o(u,`${c??""} â€” ${t(_),l(()=>t(_).details)??""}`),[()=>(t(_),l(()=>new Date(t(_).timestamp).toLocaleString()))]),d(h,s)}),e(v),d(a,v)},ht=a=>{var v=Ct();d(a,v)};I(mt,a=>{l(()=>X.length>0)?a(_t):a(ht,!1)})}e(at),e(T),L(()=>{o(vt,`Active Visitors: ${l(()=>U.length)??""}`),o(it,`Active Deliveries: ${l(()=>W.length)??""}`)}),zt($,()=>t(m),a=>H(m,a)),d(rt,T),pt()}export{Bt as component};
