import"../chunks/DsnmJJEf.js";import"../chunks/CYPRAMuI.js";import{aF as L,f as h,b,aI as M,aG as r,aJ as e,H as s,U as j,aK as a,aH as U,aL as H,k as c,ah as q}from"../chunks/VJxR2mP4.js";import{s as z}from"../chunks/Ci8WC3vH.js";import{i as C}from"../chunks/tQRZQKdW.js";import{e as E,i as N}from"../chunks/DQGvmDc0.js";import{r as v,a as u}from"../chunks/CFpdNlsL.js";import{e as f}from"../chunks/Ce3f-6Km.js";import{i as Q}from"../chunks/GsMnuBgZ.js";import{p as R}from"../chunks/CeacdKOn.js";var V=h('<div class="error svelte-1p68bdi"> </div>'),W=h('<tr><td class="svelte-1p68bdi"><form method="POST"><input type="hidden" name="id"/> <input type="text" name="username" required/> <button type="submit" class="btn btn-update svelte-1p68bdi">Update</button></form></td><td class="svelte-1p68bdi"><form method="POST" action="?/deleteAdmin"><input type="hidden" name="id"/> <button type="submit" class="btn btn-delete svelte-1p68bdi">Delete</button></form></td></tr>'),X=h('<section class="admin-section svelte-1p68bdi"><button type="button" class="back-btn svelte-1p68bdi">&larr; Back</button> <h2>Manage Admins</h2> <!> <div class="admin-list-card svelte-1p68bdi"><button class="btn btn-create svelte-1p68bdi" style="margin-bottom:1rem">+ Add Admin</button> <table class="admin-table svelte-1p68bdi"><thead><tr><th class="svelte-1p68bdi">Username</th><th class="svelte-1p68bdi">Actions</th></tr></thead><tbody></tbody></table></div></section>');function nt(B,_){L(_,!1);let G=R(_,"data",8)()?.admins??[],d=j(null);Q();var n=X(),y=e(n),k=r(y,4);{var I=o=>{var t=V(),i=e(t,!0);a(t),U(()=>z(i,s(d))),b(o,t)};C(k,o=>{s(d)&&o(I)})}var g=r(k,2),w=e(g),x=r(w,2),A=r(e(x));E(A,5,()=>G,N,(o,t)=>{var i=W(),l=e(i),m=e(l),p=e(m);v(p);var D=r(p,2);v(D),H(2),a(m),a(l);var F=r(l),O=e(F),P=e(O);v(P),H(2),a(O),a(F),a(i),U(()=>{u(p,(s(t),c(()=>s(t).id))),u(D,(s(t),c(()=>s(t).username))),u(P,(s(t),c(()=>s(t).id)))}),f("submit",m,async S=>{S.preventDefault(),q(d,null);const J=S.target,K=new FormData(J),T=await fetch("?/updateAdmin",{method:"POST",body:K});T.ok||q(d,"Failed to update admin"),T.ok&&location.reload()}),b(o,i)}),a(A),a(x),a(g),a(n),f("click",y,()=>window.location.href="/admin/dashboard"),f("click",w,()=>window.location.href="/admin/dashboard/admins/create"),b(B,n),M()}export{nt as component};
