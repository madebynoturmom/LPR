import"../chunks/DsnmJJEf.js";import"../chunks/i9DHmAX1.js";import{o as B,a as ne}from"../chunks/BQQlMUYl.js";import{t as A,k as L,o as Q,_ as ce,aU as ve,U as Y,a1 as ue,a3 as he,aV as me,aW as fe,N as F,a5 as pe,M as ge,V as C,p as _e,f as G,b as _,c as be,e as v,d as i,g as e,m as ke,r as t,s as we,u as n,n as ye,aT as q,i as E}from"../chunks/MgvKJ5Oe.js";import{s as R}from"../chunks/tNEdk8z3.js";import{i as J}from"../chunks/uYRH7WDe.js";import{e as ze,i as Se}from"../chunks/D3LgcHxc.js";import{s as K}from"../chunks/STPvjbMu.js";import{s as Ce}from"../chunks/DbZgNqix.js";import{b as Re}from"../chunks/BTrwRH8r.js";import{i as Ae}from"../chunks/mO3J0t2N.js";import{p as Pe}from"../chunks/BifvwZtI.js";import{C as xe}from"../chunks/g150VQ4A.js";function X(P,w,a=!1,h=!1,m=!1){var c=P,f="";A(()=>{var u=ce;if(f===(f=w()??"")){L&&Q();return}if(u.nodes_start!==null&&(ve(u.nodes_start,u.nodes_end),u.nodes_start=u.nodes_end=null),f!==""){if(L){Y.data;for(var r=Q(),y=r;r!==null&&(r.nodeType!==ue||r.data!=="");)y=r,r=he(r);if(r===null)throw me(),fe;F(Y,y),c=pe(r);return}var d=f+"";a?d=`<svg>${d}</svg>`:h&&(d=`<math>${d}</math>`);var l=ge(d);if((a||h)&&(l=C(l)),F(C(l),l.lastChild),a||h)for(;C(l);)c.before(C(l));else c.before(l)}})}var De=G('<img alt="" width="24" height="24" class="svelte-169czl3"/>'),Me=G('<a class="quick-action-card svelte-169czl3"><div><!></div> <div class="action-content svelte-169czl3"><h3 class="action-title svelte-169czl3"> </h3> <p class="action-description svelte-169czl3"> </p></div> <div class="action-arrow svelte-169czl3">â†’</div></a>'),Ve=G(`<div class="dashboard-container svelte-169czl3"><div class="compact-header svelte-169czl3"><div class="compact-left"><h1 class="compact-title svelte-169czl3">Welcome back, Admin! ðŸ‘‹</h1> <p class="compact-subtitle svelte-169czl3">Here's what's happening in your community today</p></div> <div class="compact-right svelte-169czl3"><div class="date svelte-169czl3"> </div></div></div> <section class="issued-section svelte-169czl3"><div class="issued-card svelte-169czl3"><div class="issued-left svelte-169czl3"><div class="issued-label svelte-169czl3">Issued Guest Passes (7d)</div> <div class="issued-value svelte-169czl3"> </div></div> <canvas class="issued-canvas svelte-169czl3" aria-hidden="true"></canvas></div></section> <section class="quick-actions-section svelte-169czl3"><h2 class="section-title svelte-169czl3">Quick Actions</h2> <div class="quick-actions-grid svelte-169czl3"></div></section></div>`);function Qe(P,w){_e(w,!1);let a=Pe(w,"data",8),h=null,m=null,c=ke(null);const f=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});B(()=>{a()?.guestStats}),a().residents,a().guards,a().vehicles,a().admins,a().guests,a().events;const u=(o="#ffffff")=>`
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <rect x="2" y="2" width="20" height="20" rx="5" fill="currentColor" />
      <path d="M8 12h8" stroke="${o}" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
    </svg>`,r=[{title:"Add Resident",description:"Register a new resident",link:"/admin/dashboard/residents/create",iconPath:"/icons/add-resident.svg",color:"bg-blue-500"},{title:"Issue Guest Pass",description:"Create a new guest pass",link:"/admin/dashboard/guests/create",iconPath:"/icons/issue-guest.svg",color:"bg-green-500"},{title:"Register Vehicle",description:"Add a new vehicle",link:"/admin/dashboard/vehicles/create",iconPath:"/icons/register-vehicle.svg",color:"bg-purple-500"},{title:"View Reports",description:"Access system reports",link:"/admin/dashboard/events",iconPath:"/icons/view-reports.svg",color:"bg-orange-500"}],y=a()?.guestStats?a().guestStats.reduce((o,s)=>o+(s.count||0),0):0;B(()=>{a()?.guestStats,e(c)&&a()?.guestStats&&(m&&m.destroy(),m=new xe(e(c),{type:"line",data:{labels:a().guestStats.map(o=>o.date),datasets:[{data:a().guestStats.map(o=>o.count),borderColor:"#6366f1",backgroundColor:"transparent",tension:.3,pointRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},plugins:{legend:{display:!1},tooltip:{enabled:!1}}}}))}),ne(()=>{m&&m.destroy()}),Ae();var d=Ve(),l=i(d),N=v(i(l),2),O=i(N),Z=i(O,!0);t(O),t(N),t(l);var x=v(l,2),T=i(x),D=i(T),I=v(i(D),2),$=i(I,!0);t(I),t(D);var ee=v(D,2);Re(ee,o=>we(c,o),()=>e(c)),t(T),t(x);var U=v(x,2),H=v(i(U),2);ze(H,5,()=>r,Se,(o,s)=>{var z=Me(),S=i(z),se=i(S);{var ae=p=>{var b=q(),V=E(b);X(V,()=>(e(s),n(()=>e(s).iconSvg))),_(p,b)},te=p=>{var b=q(),V=E(b);{var le=g=>{var k=De();A(()=>K(k,"src",(e(s),n(()=>e(s).iconPath)))),_(g,k)},oe=g=>{var k=q(),de=E(k);X(de,()=>n(u)),_(g,k)};J(V,g=>{e(s),n(()=>e(s).iconPath)?g(le):g(oe,!1)},!0)}_(p,b)};J(se,p=>{e(s),n(()=>e(s).iconSvg)?p(ae):p(te,!1)})}t(S);var W=v(S,2),M=i(W),ie=i(M,!0);t(M);var j=v(M,2),re=i(j,!0);t(j),t(W),ye(2),t(z),A(()=>{K(z,"href",(e(s),n(()=>e(s).link))),Ce(S,1,`action-icon ${e(s),n(()=>e(s).color)??""}`,"svelte-169czl3"),R(ie,(e(s),n(()=>e(s).title))),R(re,(e(s),n(()=>e(s).description)))}),_(o,z)}),t(H),t(U),t(d),A(()=>{R(Z,f),R($,y)}),_(P,d),be()}export{Qe as component};
