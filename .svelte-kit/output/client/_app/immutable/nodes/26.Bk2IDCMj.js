import"../chunks/DsnmJJEf.js";import"../chunks/CYPRAMuI.js";import{aF as it,f as n,b as d,aI as lt,aG as i,aJ as r,k as l,aK as s,aO as ot,aL as H,H as e,aH as p}from"../chunks/VJxR2mP4.js";import{s as o}from"../chunks/Ci8WC3vH.js";import{i as z}from"../chunks/tQRZQKdW.js";import{e as dt,i as nt}from"../chunks/DQGvmDc0.js";import{s as mt}from"../chunks/DZss8mLC.js";import{i as ct}from"../chunks/GsMnuBgZ.js";import{p as kt}from"../chunks/CeacdKOn.js";var _t=n("<p>No past passes found.</p>"),pt=n('<span class="status-badge revoked svelte-ztt2mk">Revoked</span>'),zt=n('<span class="status-badge expired svelte-ztt2mk">Expired</span>'),ft=n('<div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Name:</strong> </div>'),gt=n('<div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Phone:</strong> </div>'),ut=n('<div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Revoked At:</strong> </div>'),ht=n('<div><div class="pass-header svelte-ztt2mk"><div class="pass-type svelte-ztt2mk"> </div> <div class="pass-status"><!></div></div> <div class="pass-details svelte-ztt2mk"><div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Plate:</strong> </div> <!> <!> <div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Visit Time:</strong> </div> <div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Duration:</strong> </div> <!></div></div>'),xt=n('<div class="history-stats svelte-ztt2mk"><div class="stat-item svelte-ztt2mk"><span class="stat-number svelte-ztt2mk"> </span> <span class="stat-label svelte-ztt2mk">Total Past Passes</span></div> <div class="stat-item svelte-ztt2mk"><span class="stat-number svelte-ztt2mk"> </span> <span class="stat-label svelte-ztt2mk">Manually Revoked</span></div> <div class="stat-item svelte-ztt2mk"><span class="stat-number svelte-ztt2mk"> </span> <span class="stat-label svelte-ztt2mk">Expired</span></div></div> <div class="passes-container svelte-ztt2mk"></div>',1),bt=n('<div class="history-page-container svelte-ztt2mk"><a href="/user/dashboard" class="back-btn svelte-ztt2mk">&larr; Back to Dashboard</a> <h2>Pass History</h2> <p class="history-description svelte-ztt2mk">View your past guest passes and food delivery passes that have expired or been revoked.</p> <!></div>');function Tt(I,L){it(L,!1);let J=kt(L,"data",8),{pastPasses:k}=J();ct();var u=bt(),K=i(r(u),6);{var O=c=>{var f=_t();d(c,f)},j=c=>{var f=xt(),h=ot(f),x=r(h),N=r(x),q=r(N,!0);s(N),H(2),s(x);var b=i(x,2),R=r(b),C=r(R,!0);s(R),H(2),s(b);var T=i(b,2),E=r(T),Q=r(E,!0);s(E),H(2),s(T),s(h);var F=i(h,2);dt(F,5,()=>k,nt,(m,t)=>{var g=ht();let G;var y=r(g),w=r(y),U=r(w,!0);s(w);var M=i(w,2),W=r(M);{var X=a=>{var v=pt();d(a,v)},Y=a=>{var v=zt();d(a,v)};z(W,a=>{e(t),l(()=>e(t).reason==="revoked")?a(X):a(Y,!1)})}s(M),s(y);var S=i(y,2),P=r(S),Z=i(r(P));s(P);var V=i(P,2);{var $=a=>{var v=ft(),_=i(r(v));s(v),p(()=>o(_,` ${e(t),l(()=>e(t).name)??""}`)),d(a,v)};z(V,a=>{e(t),l(()=>e(t).name)&&a($)})}var B=i(V,2);{var tt=a=>{var v=gt(),_=i(r(v));s(v),p(()=>o(_,` ${e(t),l(()=>e(t).phone)??""}`)),d(a,v)};z(B,a=>{e(t),l(()=>e(t).phone)&&a(tt)})}var D=i(B,2),et=i(r(D));s(D);var A=i(D,2),at=i(r(A));s(A);var st=i(A,2);{var rt=a=>{var v=ut(),_=i(r(v));s(v),p(vt=>o(_,` ${vt??""}`),[()=>(e(t),l(()=>new Date(e(t).revokedAt).toLocaleString()))]),d(a,v)};z(st,a=>{e(t),l(()=>e(t).reason==="revoked"&&"revokedAt"in e(t))&&a(rt)})}s(S),s(g),p((a,v)=>{G=mt(g,1,"pass-card svelte-ztt2mk",null,G,a),o(U,(e(t),l(()=>e(t).type==="visitors"?"ðŸ‘¥ Guest Pass":"ðŸ• Food Delivery"))),o(Z,` ${e(t),l(()=>e(t).plateNumber)??""}`),o(et,` ${v??""}`),o(at,` ${e(t),l(()=>e(t).durationMinutes)??""} minutes`)},[()=>({revoked:e(t).reason==="revoked",expired:e(t).reason==="expired"}),()=>(e(t),l(()=>new Date(e(t).visitTime).toLocaleString()))]),d(m,g)}),s(F),p((m,t)=>{o(q,l(()=>k.length)),o(C,m),o(Q,t)},[()=>l(()=>k.filter(m=>m.reason==="revoked").length),()=>l(()=>k.filter(m=>m.reason==="expired").length)]),d(c,f)};z(K,c=>{l(()=>k.length===0)?c(O):c(j,!1)})}s(u),d(I,u),lt()}export{Tt as component};
