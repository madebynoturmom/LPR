import"../chunks/DsnmJJEf.js";import"../chunks/COTvsYcR.js";import{p as it,f as n,c as d,d as lt,s as i,e as r,u as l,r as s,b as ot,n as N,g as e,t as p}from"../chunks/BjJWVY7i.js";import{s as o}from"../chunks/DyiMSgY8.js";import{i as z}from"../chunks/D6O3RN6I.js";import{e as dt,i as nt}from"../chunks/DMSwwT4m.js";import{s as mt}from"../chunks/CAznQZM0.js";import{i as ct}from"../chunks/BbceK8gy.js";import{p as _t}from"../chunks/DSozhXEh.js";var kt=n("<p>No past passes found.</p>"),pt=n('<span class="status-badge revoked svelte-ztt2mk">Revoked</span>'),zt=n('<span class="status-badge expired svelte-ztt2mk">Expired</span>'),ft=n('<div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Name:</strong> </div>'),gt=n('<div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Phone:</strong> </div>'),ut=n('<div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Revoked At:</strong> </div>'),ht=n('<div><div class="pass-header svelte-ztt2mk"><div class="pass-type svelte-ztt2mk"> </div> <div class="pass-status"><!></div></div> <div class="pass-details svelte-ztt2mk"><div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Plate:</strong> </div> <!> <!> <div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Visit Time:</strong> </div> <div class="detail-row svelte-ztt2mk"><strong class="svelte-ztt2mk">Duration:</strong> </div> <!></div></div>'),xt=n('<div class="history-stats svelte-ztt2mk"><div class="stat-item svelte-ztt2mk"><span class="stat-number svelte-ztt2mk"> </span> <span class="stat-label svelte-ztt2mk">Total Past Passes</span></div> <div class="stat-item svelte-ztt2mk"><span class="stat-number svelte-ztt2mk"> </span> <span class="stat-label svelte-ztt2mk">Manually Revoked</span></div> <div class="stat-item svelte-ztt2mk"><span class="stat-number svelte-ztt2mk"> </span> <span class="stat-label svelte-ztt2mk">Expired</span></div></div> <div class="passes-container svelte-ztt2mk"></div>',1),bt=n('<div class="history-page-container svelte-ztt2mk"><a href="/user/dashboard" class="back-btn svelte-ztt2mk">&larr; Back to Dashboard</a> <h2>Pass History</h2> <p class="history-description svelte-ztt2mk">View your past guest passes and food delivery passes that have expired or been revoked.</p> <!></div>');function Lt(j,R){it(R,!1);let q=_t(R,"data",8),{pastPasses:_}=q();ct();var u=bt(),C=i(r(u),6);{var I=c=>{var f=kt();d(c,f)},J=c=>{var f=xt(),h=ot(f),x=r(h),T=r(x),K=r(T,!0);s(T),N(2),s(x);var b=i(x,2),E=r(b),O=r(E,!0);s(E),N(2),s(b);var L=i(b,2),M=r(L),Q=r(M,!0);s(M),N(2),s(L),s(h);var S=i(h,2);dt(S,5,()=>_,nt,(m,t)=>{var g=ht();let V;var y=r(g),w=r(y),U=r(w,!0);s(w);var B=i(w,2),W=r(B);{var X=a=>{var v=pt();d(a,v)},Y=a=>{var v=zt();d(a,v)};z(W,a=>{e(t),l(()=>e(t).reason==="revoked")?a(X):a(Y,!1)})}s(B),s(y);var F=i(y,2),P=r(F),Z=i(r(P));s(P);var G=i(P,2);{var $=a=>{var v=ft(),k=i(r(v));s(v),p(()=>o(k,` ${e(t),l(()=>e(t).name)??""}`)),d(a,v)};z(G,a=>{e(t),l(()=>e(t).name)&&a($)})}var H=i(G,2);{var tt=a=>{var v=gt(),k=i(r(v));s(v),p(()=>o(k,` ${e(t),l(()=>e(t).phone)??""}`)),d(a,v)};z(H,a=>{e(t),l(()=>e(t).phone)&&a(tt)})}var D=i(H,2),et=i(r(D));s(D);var A=i(D,2),at=i(r(A));s(A);var st=i(A,2);{var rt=a=>{var v=ut(),k=i(r(v));s(v),p(vt=>o(k,` ${vt??""}`),[()=>(e(t),l(()=>new Date(e(t).revokedAt).toLocaleString()))]),d(a,v)};z(st,a=>{e(t),l(()=>e(t).reason==="revoked"&&"revokedAt"in e(t))&&a(rt)})}s(F),s(g),p((a,v)=>{V=mt(g,1,"pass-card svelte-ztt2mk",null,V,a),o(U,(e(t),l(()=>e(t).type==="visitors"?"ðŸ‘¥ Guest Pass":"ðŸ• Food Delivery"))),o(Z,` ${e(t),l(()=>e(t).plateNumber)??""}`),o(et,` ${v??""}`),o(at,` ${e(t),l(()=>e(t).durationMinutes)??""} minutes`)},[()=>({revoked:e(t).reason==="revoked",expired:e(t).reason==="expired"}),()=>(e(t),l(()=>new Date(e(t).visitTime).toLocaleString()))]),d(m,g)}),s(S),p((m,t)=>{o(K,l(()=>_.length)),o(O,m),o(Q,t)},[()=>l(()=>_.filter(m=>m.reason==="revoked").length),()=>l(()=>_.filter(m=>m.reason==="expired").length)]),d(c,f)};z(C,c=>{l(()=>_.length===0)?c(I):c(J,!1)})}s(u),d(j,u),lt()}export{Lt as component};
