{"version":3,"file":"hooks.server-FvweBPnI.js","sources":["../../../node_modules/@sveltejs/kit/src/exports/hooks/sequence.js","../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["/** @import { Handle, RequestEvent, ResolveOptions } from '@sveltejs/kit' */\n/** @import { MaybePromise } from 'types' */\nimport {\n\tmerge_tracing,\n\tget_request_store,\n\twith_request_store\n} from '@sveltejs/kit/internal/server';\n\n/**\n * A helper function for sequencing multiple `handle` calls in a middleware-like manner.\n * The behavior for the `handle` options is as follows:\n * - `transformPageChunk` is applied in reverse order and merged\n * - `preload` is applied in forward order, the first option \"wins\" and no `preload` options after it are called\n * - `filterSerializedResponseHeaders` behaves the same as `preload`\n *\n * ```js\n * /// file: src/hooks.server.js\n * import { sequence } from '@sveltejs/kit/hooks';\n *\n * /// type: import('@sveltejs/kit').Handle\n * async function first({ event, resolve }) {\n * \tconsole.log('first pre-processing');\n * \tconst result = await resolve(event, {\n * \t\ttransformPageChunk: ({ html }) => {\n * \t\t\t// transforms are applied in reverse order\n * \t\t\tconsole.log('first transform');\n * \t\t\treturn html;\n * \t\t},\n * \t\tpreload: () => {\n * \t\t\t// this one wins as it's the first defined in the chain\n * \t\t\tconsole.log('first preload');\n * \t\t\treturn true;\n * \t\t}\n * \t});\n * \tconsole.log('first post-processing');\n * \treturn result;\n * }\n *\n * /// type: import('@sveltejs/kit').Handle\n * async function second({ event, resolve }) {\n * \tconsole.log('second pre-processing');\n * \tconst result = await resolve(event, {\n * \t\ttransformPageChunk: ({ html }) => {\n * \t\t\tconsole.log('second transform');\n * \t\t\treturn html;\n * \t\t},\n * \t\tpreload: () => {\n * \t\t\tconsole.log('second preload');\n * \t\t\treturn true;\n * \t\t},\n * \t\tfilterSerializedResponseHeaders: () => {\n * \t\t\t// this one wins as it's the first defined in the chain\n * \t\t\tconsole.log('second filterSerializedResponseHeaders');\n * \t\t\treturn true;\n * \t\t}\n * \t});\n * \tconsole.log('second post-processing');\n * \treturn result;\n * }\n *\n * export const handle = sequence(first, second);\n * ```\n *\n * The example above would print:\n *\n * ```\n * first pre-processing\n * first preload\n * second pre-processing\n * second filterSerializedResponseHeaders\n * second transform\n * first transform\n * second post-processing\n * first post-processing\n * ```\n *\n * @param {...Handle} handlers The chain of `handle` functions\n * @returns {Handle}\n */\nexport function sequence(...handlers) {\n\tconst length = handlers.length;\n\tif (!length) return ({ event, resolve }) => resolve(event);\n\n\treturn ({ event, resolve }) => {\n\t\tconst { state } = get_request_store();\n\t\treturn apply_handle(0, event, {});\n\n\t\t/**\n\t\t * @param {number} i\n\t\t * @param {RequestEvent} event\n\t\t * @param {ResolveOptions | undefined} parent_options\n\t\t * @returns {MaybePromise<Response>}\n\t\t */\n\t\tfunction apply_handle(i, event, parent_options) {\n\t\t\tconst handle = handlers[i];\n\n\t\t\treturn state.tracing.record_span({\n\t\t\t\tname: `sveltekit.handle.sequenced.${handle.name ? handle.name : i}`,\n\t\t\t\tattributes: {},\n\t\t\t\tfn: async (current) => {\n\t\t\t\t\tconst traced_event = merge_tracing(event, current);\n\t\t\t\t\treturn await with_request_store({ event: traced_event, state }, () =>\n\t\t\t\t\t\thandle({\n\t\t\t\t\t\t\tevent: traced_event,\n\t\t\t\t\t\t\tresolve: (event, options) => {\n\t\t\t\t\t\t\t\t/** @type {ResolveOptions['transformPageChunk']} */\n\t\t\t\t\t\t\t\tconst transformPageChunk = async ({ html, done }) => {\n\t\t\t\t\t\t\t\t\tif (options?.transformPageChunk) {\n\t\t\t\t\t\t\t\t\t\thtml = (await options.transformPageChunk({ html, done })) ?? '';\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (parent_options?.transformPageChunk) {\n\t\t\t\t\t\t\t\t\t\thtml = (await parent_options.transformPageChunk({ html, done })) ?? '';\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn html;\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t/** @type {ResolveOptions['filterSerializedResponseHeaders']} */\n\t\t\t\t\t\t\t\tconst filterSerializedResponseHeaders =\n\t\t\t\t\t\t\t\t\tparent_options?.filterSerializedResponseHeaders ??\n\t\t\t\t\t\t\t\t\toptions?.filterSerializedResponseHeaders;\n\n\t\t\t\t\t\t\t\t/** @type {ResolveOptions['preload']} */\n\t\t\t\t\t\t\t\tconst preload = parent_options?.preload ?? options?.preload;\n\n\t\t\t\t\t\t\t\treturn i < length - 1\n\t\t\t\t\t\t\t\t\t? apply_handle(i + 1, event, {\n\t\t\t\t\t\t\t\t\t\t\ttransformPageChunk,\n\t\t\t\t\t\t\t\t\t\t\tfilterSerializedResponseHeaders,\n\t\t\t\t\t\t\t\t\t\t\tpreload\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t: resolve(event, {\n\t\t\t\t\t\t\t\t\t\t\ttransformPageChunk,\n\t\t\t\t\t\t\t\t\t\t\tfilterSerializedResponseHeaders,\n\t\t\t\t\t\t\t\t\t\t\tpreload\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}\n","import { sequence } from \"@sveltejs/kit/hooks\";\nimport { eq } from \"drizzle-orm\";\nimport { sha256 } from \"@oslojs/crypto/sha2\";\nimport { encodeHexLowerCase } from \"@oslojs/encoding\";\nimport { d as db, s as session, b as admin, u as user } from \"./index3.js\";\nimport { o as overwriteServerAsyncLocalStorage, e as extractLocaleFromRequestAsync, s as strategy, l as localizeUrl, d as deLocalizeUrl, a as serverAsyncLocalStorage } from \"./runtime.js\";\nconst DAY_IN_MS = 1e3 * 60 * 60 * 24;\nconst sessionCookieName = \"auth-session\";\nasync function validateSessionToken(token) {\n  const sessionId = encodeHexLowerCase(sha256(new TextEncoder().encode(token)));\n  const adminResult = await db.select({\n    admin,\n    session\n  }).from(session).innerJoin(admin, eq(session.userId, admin.id)).where(eq(session.id, sessionId));\n  if (adminResult.length > 0) {\n    const { session: session2, admin: admin2 } = adminResult[0];\n    const user2 = { id: admin2.id, username: admin2.username, role: \"admin\" };\n    const sessionExpired2 = Date.now() >= session2.expiresAt.getTime();\n    if (sessionExpired2) {\n      await db.delete(session).where(eq(session.id, session2.id));\n      return { session: null, user: null };\n    }\n    const renewSession2 = Date.now() >= session2.expiresAt.getTime() - DAY_IN_MS * 15;\n    if (renewSession2) {\n      session2.expiresAt = new Date(Date.now() + DAY_IN_MS * 30);\n      await db.update(session).set({ expiresAt: session2.expiresAt }).where(eq(session.id, session2.id));\n    }\n    return { session: session2, user: user2 };\n  }\n  const userResult = await db.select({\n    user: { id: user.id, username: user.username, role: user.role },\n    session\n  }).from(session).innerJoin(user, eq(session.userId, user.id)).where(eq(session.id, sessionId));\n  if (userResult.length === 0) {\n    return { session: null, user: null };\n  }\n  const { session: session$1, user: user$1 } = userResult[0];\n  const sessionExpired = Date.now() >= session$1.expiresAt.getTime();\n  if (sessionExpired) {\n    await db.delete(session).where(eq(session.id, session$1.id));\n    return { session: null, user: null };\n  }\n  const renewSession = Date.now() >= session$1.expiresAt.getTime() - DAY_IN_MS * 15;\n  if (renewSession) {\n    session$1.expiresAt = new Date(Date.now() + DAY_IN_MS * 30);\n    await db.update(session).set({ expiresAt: session$1.expiresAt }).where(eq(session.id, session$1.id));\n  }\n  return { session: session$1, user: user$1 };\n}\nfunction setSessionTokenCookie(event, token, expiresAt) {\n  event.cookies.set(sessionCookieName, token, {\n    expires: expiresAt,\n    path: \"/\"\n  });\n}\nfunction deleteSessionTokenCookie(event) {\n  event.cookies.delete(sessionCookieName, {\n    path: \"/\"\n  });\n}\nasync function paraglideMiddleware(request, resolve, callbacks) {\n  if (!serverAsyncLocalStorage) {\n    const { AsyncLocalStorage } = await import(\"async_hooks\");\n    overwriteServerAsyncLocalStorage(new AsyncLocalStorage());\n  } else if (!serverAsyncLocalStorage) {\n    overwriteServerAsyncLocalStorage(createMockAsyncLocalStorage());\n  }\n  const locale = await extractLocaleFromRequestAsync(request);\n  const origin = new URL(request.url).origin;\n  if (request.headers.get(\"Sec-Fetch-Dest\") === \"document\" && strategy.includes(\"url\")) {\n    const localizedUrl = localizeUrl(request.url, { locale });\n    if (normalizeURL(localizedUrl.href) !== normalizeURL(request.url)) {\n      const headers = {};\n      if (strategy.includes(\"preferredLanguage\")) {\n        headers[\"Vary\"] = \"Accept-Language\";\n      }\n      const response2 = new Response(null, {\n        status: 307,\n        headers: {\n          Location: localizedUrl.href,\n          ...headers\n        }\n      });\n      return response2;\n    }\n  }\n  const newRequest = strategy.includes(\"url\") ? new Request(deLocalizeUrl(request.url), request) : (\n    // need to create a new request object because some metaframeworks (nextjs!) throw otherwise\n    // https://github.com/opral/inlang-paraglide-js/issues/411\n    new Request(request)\n  );\n  const messageCalls = /* @__PURE__ */ new Set();\n  const response = await serverAsyncLocalStorage?.run({ locale, origin, messageCalls }, () => resolve({ locale, request: newRequest }));\n  return response;\n}\nfunction normalizeURL(url) {\n  const urlObj = new URL(url);\n  urlObj.pathname = urlObj.pathname.replace(/\\/$/, \"\");\n  return urlObj.href;\n}\nfunction createMockAsyncLocalStorage() {\n  let currentStore = void 0;\n  return {\n    getStore() {\n      return currentStore;\n    },\n    async run(store, callback) {\n      currentStore = store;\n      try {\n        return await callback();\n      } finally {\n        currentStore = void 0;\n      }\n    }\n  };\n}\nconst handleParaglide = ({ event, resolve }) => paraglideMiddleware(event.request, ({ request, locale }) => {\n  event.request = request;\n  return resolve(event, {\n    transformPageChunk: ({ html }) => html.replace(\"%paraglide.lang%\", locale)\n  });\n});\nconst handleAuth = async ({ event, resolve }) => {\n  const sessionToken = event.cookies.get(sessionCookieName);\n  if (!sessionToken) {\n    event.locals.user = null;\n    event.locals.session = null;\n    return resolve(event);\n  }\n  const { session: session2, user: user2 } = await validateSessionToken(sessionToken);\n  if (session2) {\n    setSessionTokenCookie(event, sessionToken, session2.expiresAt);\n  } else {\n    deleteSessionTokenCookie(event);\n  }\n  event.locals.user = user2 ? { id: user2.id, username: user2.username, role: user2.role } : null;\n  event.locals.session = session2;\n  return resolve(event);\n};\nconst handle = sequence(handleParaglide, handleAuth);\nexport {\n  handle\n};\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}