{"version":3,"file":"_server.ts-CMZ-0Ug6.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/food-delivery/create/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { d as db, g as guestPass } from \"../../../../../chunks/index3.js\";\nimport { v4 } from \"uuid\";\nconst POST = async ({ request }) => {\n  try {\n    const formData = await request.formData();\n    const plateNumber = formData.get(\"plateNumber\")?.toString();\n    const durationMinutes = parseInt(formData.get(\"durationMinutes\")?.toString() || \"0\", 10);\n    const userId = formData.get(\"userId\")?.toString();\n    const name = formData.get(\"name\")?.toString();\n    const phone = formData.get(\"phone\")?.toString();\n    if (!plateNumber || isNaN(durationMinutes) || durationMinutes <= 0 || !userId || !name || !phone) {\n      return json({ success: false, error: \"Invalid input data\" }, { status: 400 });\n    }\n    await db.insert(guestPass).values({\n      id: v4(),\n      plateNumber,\n      durationMinutes,\n      visitTime: /* @__PURE__ */ new Date(),\n      type: \"food_delivery\",\n      userId,\n      status: \"active\",\n      name,\n      phone\n    });\n    return json({ success: true });\n  } catch (error) {\n    console.error(\"Error creating food delivery pass:\", error);\n    return json({ success: false, error: \"Internal server error\" }, { status: 500 });\n  }\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;;;AAGK,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,KAAK;AACpC,EAAE,IAAI;AACN,IAAI,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE;AAC7C,IAAI,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE;AAC/D,IAAI,MAAM,eAAe,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,QAAQ,EAAE,IAAI,GAAG,EAAE,EAAE,CAAC;AAC5F,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE;AACrD,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE;AACjD,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE;AACnD,IAAI,IAAI,CAAC,WAAW,IAAI,KAAK,CAAC,eAAe,CAAC,IAAI,eAAe,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE;AACtG,MAAM,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,oBAAoB,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACnF,IAAI;AACJ,IAAI,MAAM,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC;AACtC,MAAM,EAAE,EAAE,EAAE,EAAE;AACd,MAAM,WAAW;AACjB,MAAM,eAAe;AACrB,MAAM,SAAS,kBAAkB,IAAI,IAAI,EAAE;AAC3C,MAAM,IAAI,EAAE,eAAe;AAC3B,MAAM,MAAM;AACZ,MAAM,MAAM,EAAE,QAAQ;AACtB,MAAM,IAAI;AACV,MAAM;AACN,KAAK,CAAC;AACN,IAAI,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAClC,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,oCAAoC,EAAE,KAAK,CAAC;AAC9D,IAAI,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,uBAAuB,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACpF,EAAE;AACF;;;;"}