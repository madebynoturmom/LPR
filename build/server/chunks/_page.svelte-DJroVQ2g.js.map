{"version":3,"file":"_page.svelte-DJroVQ2g.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/dashboard/_page.svelte.js"],"sourcesContent":["import { a as attr_class, c as ensure_array_like, d as stringify, f as bind_props } from \"../../../../chunks/index2.js\";\nimport { U as ssr_context } from \"../../../../chunks/context.js\";\nimport \"chart.js/auto\";\nimport { e as escape_html } from \"../../../../chunks/escaping.js\";\nimport { a as attr } from \"../../../../chunks/attributes.js\";\nfunction html(value) {\n  var html2 = String(value ?? \"\");\n  var open = \"<!---->\";\n  return open + html2 + \"<!---->\";\n}\nfunction onDestroy(fn) {\n  /** @type {SSRContext} */\n  ssr_context.r.on_destroy(fn);\n}\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let data = $$props[\"data\"];\n    let selectedRange = \"7d\";\n    const dateString = (/* @__PURE__ */ new Date()).toLocaleDateString(\"en-US\", {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\"\n    });\n    [\n      {\n        label: \"Residents\",\n        value: data.residents,\n        link: \"/admin/dashboard/residents\",\n        icon: \"👥\"\n      },\n      {\n        label: \"Guards\",\n        value: data.guards,\n        link: \"/admin/dashboard/guards\",\n        icon: \"🛡️\"\n      },\n      {\n        label: \"Vehicles\",\n        value: data.vehicles,\n        link: \"/admin/dashboard/vehicles\",\n        icon: \"🚗\"\n      },\n      {\n        label: \"Admins\",\n        value: data.admins,\n        link: \"/admin/dashboard/admins\",\n        icon: \"👑\"\n      },\n      {\n        label: \"Guests\",\n        value: data.guests,\n        link: \"/admin/dashboard/guests\",\n        icon: \"🎟️\"\n      },\n      {\n        label: \"Events\",\n        value: data.events,\n        link: \"/admin/dashboard/events\",\n        icon: \"📈\"\n      }\n    ];\n    const placeholderSvg = (stroke = \"#ffffff\") => `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n      <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" rx=\"5\" fill=\"currentColor\" />\n      <path d=\"M8 12h8\" stroke=\"${stroke}\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>`;\n    const quickActions = [\n      // Using static SVG paths under /static/icons/ (dummy placeholders created)\n      {\n        title: \"Add Resident\",\n        description: \"Register a new resident\",\n        link: \"/admin/dashboard/residents/create\",\n        iconPath: \"/icons/add-resident.svg\",\n        color: \"bg-blue-500\"\n      },\n      // the guests page includes an inline create form (POST ?/create), so link to it\n      {\n        title: \"Issue Guest Pass\",\n        description: \"Create a new guest pass\",\n        link: \"/admin/dashboard/guests\",\n        iconPath: \"/icons/issue-guest.svg\",\n        color: \"bg-green-500\"\n      },\n      {\n        title: \"Register Vehicle\",\n        description: \"Add a new vehicle\",\n        link: \"/admin/dashboard/vehicles/create\",\n        iconPath: \"/icons/register-vehicle.svg\",\n        color: \"bg-purple-500\"\n      },\n      {\n        title: \"View Reports\",\n        description: \"Access system reports\",\n        link: \"/admin/dashboard/events\",\n        iconPath: \"/icons/view-reports.svg\",\n        color: \"bg-orange-500\"\n      }\n    ];\n    const issuedCount = data?.guestStats ? data.guestStats.reduce((s, g) => s + (g.count || 0), 0) : 0;\n    onDestroy(() => {\n    });\n    $$renderer2.push(`<div class=\"dashboard-container svelte-169czl3\"><header class=\"dashboard-overview svelte-169czl3\"><div class=\"overview-left svelte-169czl3\"><div class=\"overview-text svelte-169czl3\"><h1 class=\"overview-title svelte-169czl3\">Dashboard Overview</h1> <div class=\"overview-date svelte-169czl3\">${escape_html(dateString)}</div></div></div> <div class=\"overview-right svelte-169czl3\"><a href=\"/admin/dashboard/settings\" class=\"overview-avatar-link svelte-169czl3\" aria-label=\"Account settings\"><img class=\"overview-avatar svelte-169czl3\"${attr(\"src\", data.adminProfilePic ?? \"/default-profile.png\")} alt=\"Profile\" width=\"48\" height=\"48\"/></a></div></header> <section class=\"issued-section svelte-169czl3\"><div class=\"issued-card svelte-169czl3\"><div style=\"display:flex; align-items:center; gap:1rem; width:100%; justify-content:space-between;\"><div><div class=\"issued-label svelte-169czl3\">Issued Guest Passes</div> <div class=\"issued-value svelte-169czl3\">${escape_html(issuedCount)}</div></div> <div class=\"issued-range svelte-169czl3\"><button${attr_class(\"svelte-169czl3\", void 0, { \"active\": selectedRange === \"7d\" })}>7D</button> <button${attr_class(\"svelte-169czl3\", void 0, { \"active\": selectedRange === \"1m\" })}>1M</button> <button${attr_class(\"svelte-169czl3\", void 0, { \"active\": selectedRange === \"3m\" })}>3M</button></div></div> <div class=\"issued-chart-wrapper svelte-169czl3\"><canvas class=\"issued-canvas svelte-169czl3\" aria-label=\"Issued guest passes chart\"></canvas></div></div></section> <section class=\"quick-actions-section svelte-169czl3\"><h2 class=\"section-title svelte-169czl3\">Quick Actions</h2> <div class=\"quick-actions-grid svelte-169czl3\"><!--[-->`);\n    const each_array = ensure_array_like(quickActions);\n    for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n      let action = each_array[$$index];\n      $$renderer2.push(`<a${attr(\"href\", action.link)} class=\"quick-action-card svelte-169czl3\"><div${attr_class(`action-icon ${stringify(action.color)}`, \"svelte-169czl3\")}>`);\n      if (action.iconSvg) {\n        $$renderer2.push(\"<!--[-->\");\n        $$renderer2.push(`${html(action.iconSvg)}`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n        if (action.iconPath) {\n          $$renderer2.push(\"<!--[-->\");\n          $$renderer2.push(`<img${attr(\"src\", action.iconPath)} alt=\"\" width=\"24\" height=\"24\" class=\"svelte-169czl3\"/>`);\n        } else {\n          $$renderer2.push(\"<!--[!-->\");\n          $$renderer2.push(`${html(placeholderSvg())}`);\n        }\n        $$renderer2.push(`<!--]-->`);\n      }\n      $$renderer2.push(`<!--]--></div> <div class=\"action-content svelte-169czl3\"><h3 class=\"action-title svelte-169czl3\">${escape_html(action.title)}</h3> <p class=\"action-description svelte-169czl3\">${escape_html(action.description)}</p></div></a>`);\n    }\n    $$renderer2.push(`<!--]--></div></section></div>`);\n    bind_props($$props, { data });\n  });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}