{"version":3,"file":"email-REl8RnBL.js","sources":["../../../.svelte-kit/adapter-node/chunks/email.js"],"sourcesContent":["import nodemailer from \"nodemailer\";\nconst transporter = nodemailer.createTransport({\n  service: \"gmail\",\n  auth: {\n    user: process.env.SMTP_USER,\n    pass: process.env.SMTP_PASS\n  },\n  // Additional options for Gmail\n  tls: {\n    rejectUnauthorized: false\n  }\n});\nconsole.log(\"üîß Initializing Gmail SMTP transporter...\");\nconsole.log(\"üìß SMTP User configured:\", process.env.SMTP_USER ? \"YES\" : \"NO\");\nconsole.log(\"üîë SMTP Password configured:\", process.env.SMTP_PASS ? \"YES\" : \"NO\");\nasync function sendEmail(to, subject, text) {\n  console.log(\"üì§ ===== EMAIL SEND ATTEMPT =====\");\n  console.log(\"üìß To:\", to);\n  console.log(\"üìÑ Subject:\", subject);\n  console.log(\"üìù Content length:\", text.length, \"characters\");\n  console.log(\"üîß SMTP Config Check:\");\n  console.log(\"  - Service: Gmail\");\n  console.log(\"  - User:\", process.env.SMTP_USER ? `${process.env.SMTP_USER.substring(0, 3)}***@***.com` : \"NOT SET\");\n  console.log(\"  - Password:\", process.env.SMTP_PASS ? \"***SET***\" : \"NOT SET\");\n  const mailOptions = {\n    from: process.env.SMTP_USER,\n    to,\n    subject,\n    text\n  };\n  console.log(\"üìã Mail options prepared:\", {\n    from: mailOptions.from,\n    to: mailOptions.to,\n    subject: mailOptions.subject,\n    hasText: !!mailOptions.text\n  });\n  try {\n    console.log(\"üöÄ Attempting to send email via Gmail SMTP...\");\n    console.log(\"üîå Testing SMTP connection...\");\n    const connectionTest = await transporter.verify();\n    console.log(\"‚úÖ SMTP connection test:\", connectionTest ? \"SUCCESS\" : \"FAILED\");\n    if (!connectionTest) {\n      throw new Error(\"SMTP connection verification failed\");\n    }\n    const result = await transporter.sendMail(mailOptions);\n    console.log(\"‚úÖ ===== EMAIL SENT SUCCESSFULLY =====\");\n    console.log(\"üì® Message ID:\", result.messageId);\n    console.log(\"üîÑ Response:\", result.response);\n    console.log(\"üìÆ Accepted recipients:\", result.accepted);\n    console.log(\"‚ùå Rejected recipients:\", result.rejected);\n    return result;\n  } catch (error) {\n    console.error(\"‚ùå ===== EMAIL SEND FAILED =====\");\n    console.error(\"üî¥ Error type:\", error.constructor.name);\n    console.error(\"üî¥ Error message:\", error.message);\n    console.error(\"üî¥ Error code:\", error.code);\n    if (error.code === \"EAUTH\") {\n      console.error(\"üîê AUTHENTICATION ERROR: Check your Gmail credentials\");\n      console.error(\"üí° Gmail tips:\");\n      console.error(\"   - Use App Password instead of regular password\");\n      console.error(\"   - Enable 2FA on your Google account\");\n      console.error(\"   - Generate App Password: https://support.google.com/accounts/answer/185833\");\n    } else if (error.code === \"ENOTFOUND\") {\n      console.error(\"üåê NETWORK ERROR: Cannot connect to Gmail SMTP servers\");\n    } else if (error.code === \"ECONNREFUSED\") {\n      console.error(\"üö´ CONNECTION REFUSED: Gmail SMTP server rejected connection\");\n    } else if (error.code === \"ETIMEDOUT\") {\n      console.error(\"‚è∞ TIMEOUT ERROR: Connection to Gmail SMTP timed out\");\n    }\n    console.error(\"üîç Full error details:\", {\n      code: error.code,\n      command: error.command,\n      response: error.response,\n      responseCode: error.responseCode\n    });\n    throw error;\n  }\n}\nexport {\n  sendEmail as s\n};\n"],"names":[],"mappings":"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"}