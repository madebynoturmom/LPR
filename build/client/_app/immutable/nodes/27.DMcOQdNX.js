import"../chunks/DsnmJJEf.js";import"../chunks/i9DHmAX1.js";import{p as Te,l as Be,a as Le,f as w,i as Ye,t as h,b as _,c as je,e as i,d as s,s as he,m as qe,n as A,r as a,g as e,aB as g,u as r}from"../chunks/MgvKJ5Oe.js";import{s as l}from"../chunks/tNEdk8z3.js";import{i as f}from"../chunks/uYRH7WDe.js";import{e as ge,i as fe}from"../chunks/D3LgcHxc.js";import{s as be}from"../chunks/STPvjbMu.js";import{e as D}from"../chunks/DANlTl3y.js";import{t as pe,s as ye}from"../chunks/DHNfWvJ2.js";import{b as Qe}from"../chunks/BTrwRH8r.js";import{s as xe}from"../chunks/CdEA5IGF.js";import{i as ze}from"../chunks/mO3J0t2N.js";import{p as O}from"../chunks/BifvwZtI.js";import{s as He,a as Ie}from"../chunks/BIazggEA.js";import{p as Je}from"../chunks/CprSpIeg.js";var Ke=w('<div class="pass-detail svelte-qewru5"> </div>'),Ue=w('<div class="pass-detail svelte-qewru5"> </div>'),We=w('<div class="pass-details svelte-qewru5"><!> <!> <div class="pass-detail svelte-qewru5"> </div> <div class="pass-detail svelte-qewru5"> </div></div>'),Xe=w('<div class="pass-item svelte-qewru5" role="button" tabindex="0"><div class="pass-summary svelte-qewru5"><div class="pass-plate svelte-qewru5"><strong> </strong></div> <div class="pass-meta svelte-qewru5"> </div></div> <div class="pass-actions svelte-qewru5"><button class="manage-link svelte-qewru5">Manage</button></div> <!></div>'),Ze=w('<div class="active-passes-card svelte-qewru5"><h3 class="svelte-qewru5">Your Active Guest Passes</h3> <div class="passes-list svelte-qewru5"></div></div>'),et=w('<div class="pass-detail svelte-qewru5"> </div>'),tt=w('<div class="pass-detail svelte-qewru5"> </div>'),at=w('<div class="pass-details svelte-qewru5"><!> <!> <div class="pass-detail svelte-qewru5"> </div> <div class="pass-detail svelte-qewru5"> </div></div>'),st=w('<div class="pass-item svelte-qewru5" role="button" tabindex="0"><div class="pass-summary svelte-qewru5"><div class="pass-plate svelte-qewru5"><strong> </strong></div> <div class="pass-meta svelte-qewru5"> </div></div> <div class="pass-actions svelte-qewru5"><button class="manage-link svelte-qewru5">Manage</button></div> <!></div>'),rt=w('<div class="active-passes-card svelte-qewru5"><h3 class="svelte-qewru5">Your Active Food Delivery Passes</h3> <div class="passes-list svelte-qewru5"></div></div>'),it=w('<div class="dashboard-hero-page svelte-qewru5"><div class="hero-inner-page svelte-qewru5"><button class="hero-hamburger-page svelte-qewru5" aria-label="Open sidebar"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button> <h1 class="hero-title-page svelte-qewru5">Dashboard Overview</h1></div></div> <div class="recent-activity-compact svelte-qewru5" aria-live="polite"><div class="recent-stats-row svelte-qewru5"><div class="stat-tile svelte-qewru5"><div class="stat-value svelte-qewru5"> </div> <div class="stat-label svelte-qewru5">Guest Passes</div></div> <div class="stat-tile svelte-qewru5"><div class="stat-value svelte-qewru5"> </div> <div class="stat-label svelte-qewru5">Food Delivery</div></div> <div class="stat-tile stat-long svelte-qewru5"><div class="stat-value svelte-qewru5"> </div> <div class="stat-label svelte-qewru5">Recent Car</div></div> <a href="/user/dashboard/manage/system-overview" class="stat-toggle svelte-qewru5" title="Open system overview">Details</a></div> <div id="recent-activity-details" class="recent-activity-card svelte-qewru5" style="display:none; margin-top:0.75rem;"><h3 class="svelte-qewru5">Recent Activity</h3> <ul class="svelte-qewru5"><li class="svelte-qewru5"><strong>Active Guest Passes:</strong> </li> <li class="svelte-qewru5"><strong>Active Food Delivery Passes:</strong> </li> <li class="svelte-qewru5"><strong>Recent Car Access:</strong> </li></ul></div></div> <!> <!> <h3 class="quick-actions svelte-qewru5">Quick Actions</h3> <div class="dashboard-cards-row svelte-qewru5"><a href="/user/dashboard/vehicles" class="dashboard-card svelte-qewru5"><div class="card-icon svelte-qewru5">üöó</div> <h2 class="svelte-qewru5">Vehicles</h2> <p>Manage your registered vehicles.</p></a> <a href="/user/dashboard/guests" class="dashboard-card svelte-qewru5"><div class="card-icon svelte-qewru5">üë§</div> <h2 class="svelte-qewru5">Guest Passes</h2> <p>View and manage your guest passes.</p></a> <a href="/user/dashboard/food-delivery" class="dashboard-card svelte-qewru5"><div class="card-icon svelte-qewru5">üç±</div> <h2 class="svelte-qewru5">Food Delivery</h2> <p>Grant access for food delivery riders.</p></a></div>',1);function pt(Pe,G){Te(G,!1);const ie=()=>Ie(Je,"$page",ke),[ke,De]=He(),Ae=qe();let T=O(G,"data",8),u=O(G,"recentActivity",24,()=>T().recentActivity),B=O(G,"activeGuestPasses",24,()=>T().activeGuestPasses),L=O(G,"activeFoodDeliveryPasses",24,()=>T().activeFoodDeliveryPasses),q=new Set;function N(d){q.has(d)?(q.delete(d),q=new Set(q)):(q.add(d),q=new Set(q))}const R=d=>q.has(d);let Y=qe(null);function Ge(){const d=new CustomEvent("toggleSidebar",{bubbles:!0});e(Y)?.dispatchEvent(d)}Be(()=>ie(),()=>{he(Ae,ie().data?.user?.name||"Resident")}),Le(),ze();var ve=it(),V=Ye(ve),le=s(V),Fe=s(le);A(2),a(le),a(V),Qe(V,d=>he(Y,d),()=>e(Y));var j=i(V,2),Q=s(j),z=s(Q),de=s(z),$e=s(de,!0);a(de),A(2),a(z);var H=i(z,2),oe=s(H),Ee=s(oe,!0);a(oe),A(2),a(H);var ce=i(H,2),ne=s(ce),Se=s(ne,!0);a(ne),A(2),a(ce),A(2),a(Q);var ue=i(Q,2),_e=i(s(ue),2),I=s(_e),Ce=i(s(I));a(I);var J=i(I,2),Me=i(s(J));a(J);var we=i(J,2),Ne=i(s(we));a(we),a(_e),a(ue),a(j);var me=i(j,2);{var Re=d=>{var b=Ze(),F=i(s(b),2);ge(F,5,B,fe,(K,t)=>{var n=Xe(),p=s(n),y=s(p),$=s(y),U=s($,!0);a($),a(y);var E=i(y,2),W=s(E,!0);a(E),a(p);var x=i(p,2),X=s(x);a(x);var Z=i(x,2);{var ee=o=>{var m=We(),S=s(m);{var te=v=>{var c=Ke(),k=s(c);a(c),h(()=>l(k,`Name: ${e(t),r(()=>e(t).name)??""}`)),_(v,c)};f(S,v=>{e(t),r(()=>e(t).name)&&v(te)})}var C=i(S,2);{var ae=v=>{var c=Ue(),k=s(c);a(c),h(()=>l(k,`Phone: ${e(t),r(()=>e(t).phone)??""}`)),_(v,c)};f(C,v=>{e(t),r(()=>e(t).phone)&&v(ae)})}var P=i(C,2),se=s(P);a(P);var M=i(P,2),re=s(M);a(M),a(m),h(v=>{l(se,`Visit: ${v??""}`),l(re,`Duration: ${e(t),r(()=>e(t).durationMinutes)??""} minutes`)},[()=>(e(t),r(()=>new Date(e(t).visitTime).toLocaleString()))]),pe(3,m,()=>ye,()=>({duration:180})),_(o,m)};f(Z,o=>{e(t),r(()=>R(e(t).id))&&o(ee)})}a(n),h(o=>{be(n,"aria-expanded",o),l(U,(e(t),r(()=>e(t).plateNumber))),l(W,(e(t),r(()=>e(t).name?e(t).name:"")))},[()=>(e(t),r(()=>R(e(t).id)))]),D("click",X,xe(()=>{window.location.href="/user/dashboard/guests"})),D("click",n,()=>N(e(t).id)),D("keydown",n,o=>o.key==="Enter"&&N(e(t).id)),_(K,n)}),a(F),a(b),_(d,b)};f(me,d=>{g(B()),r(()=>B().length>0)&&d(Re)})}var Ve=i(me,2);{var Oe=d=>{var b=rt(),F=i(s(b),2);ge(F,5,L,fe,(K,t)=>{var n=st(),p=s(n),y=s(p),$=s(y),U=s($,!0);a($),a(y);var E=i(y,2),W=s(E,!0);a(E),a(p);var x=i(p,2),X=s(x);a(x);var Z=i(x,2);{var ee=o=>{var m=at(),S=s(m);{var te=v=>{var c=et(),k=s(c);a(c),h(()=>l(k,`Name: ${e(t),r(()=>e(t).name)??""}`)),_(v,c)};f(S,v=>{e(t),r(()=>e(t).name)&&v(te)})}var C=i(S,2);{var ae=v=>{var c=tt(),k=s(c);a(c),h(()=>l(k,`Phone: ${e(t),r(()=>e(t).phone)??""}`)),_(v,c)};f(C,v=>{e(t),r(()=>e(t).phone)&&v(ae)})}var P=i(C,2),se=s(P);a(P);var M=i(P,2),re=s(M);a(M),a(m),h(v=>{l(se,`Visit: ${v??""}`),l(re,`Duration: ${e(t),r(()=>e(t).durationMinutes)??""} minutes`)},[()=>(e(t),r(()=>new Date(e(t).visitTime).toLocaleString()))]),pe(3,m,()=>ye,()=>({duration:180})),_(o,m)};f(Z,o=>{e(t),r(()=>R(e(t).id))&&o(ee)})}a(n),h(o=>{be(n,"aria-expanded",o),l(U,(e(t),r(()=>e(t).plateNumber))),l(W,(e(t),r(()=>e(t).name?e(t).name:"")))},[()=>(e(t),r(()=>R(e(t).id)))]),D("click",X,xe(()=>{window.location.href="/user/dashboard/food-delivery"})),D("click",n,()=>N(e(t).id)),D("keydown",n,o=>o.key==="Enter"&&N(e(t).id)),_(K,n)}),a(F),a(b),_(d,b)};f(Ve,d=>{g(L()),r(()=>L().length>0)&&d(Oe)})}A(4),h(()=>{l($e,(g(u()),r(()=>u().activeGuestPasses))),l(Ee,(g(u()),r(()=>u().activeFoodDeliveryPasses))),l(Se,(g(u()),r(()=>u().recentCarAccess))),l(Ce,` ${g(u()),r(()=>u().activeGuestPasses)??""}`),l(Me,` ${g(u()),r(()=>u().activeFoodDeliveryPasses)??""}`),l(Ne,` ${g(u()),r(()=>u().recentCarAccess)??""}`)}),D("click",Fe,Ge),_(Pe,ve),je(),De()}export{pt as component};
